{"version":3,"sources":["../../../../src/app/schemasValidation/Activity/create.js"],"names":["Yup","schema","object","shape","name","string","required","min","max","description","deadline","date","id_class","number","positive","test","value","clas","Class","findOne","where","id","attributes"],"mappings":";;;;;;AAAA;;IAAYA,G;;AACZ;;;;;;;;AAEA,IAAMC,SAASD,IAAIE,MAAJ,GAAaC,KAAb,CAAmB;AAChCC,QAAMJ,IAAIK,MAAJ,CAAW,eAAX,EACHC,QADG,CACM,mBADN,EAEHC,GAFG,CAEC,CAFD,EAEI,wCAFJ,EAGHC,GAHG,CAGC,EAHD,EAGK,wCAHL,CAD0B;AAKhCC,eAAaT,IAAIK,MAAJ,CAAW,eAAX,EACVC,QADU,CACD,mBADC,EAEVC,GAFU,CAEN,CAFM,EAEH,yCAFG,EAGVC,GAHU,CAGN,GAHM,EAGD,yCAHC,CALmB;AAShCE,YAAUV,IAAIW,IAAJ,CAAS,eAAT,CATsB;AAUhCC,YAAUZ,IAAIa,MAAJ,CAAW,eAAX,EACPC,QADO,CACE,eADF,EAEPR,QAFO,CAEE,mBAFF,EAGPS,IAHO,CAGF,aAHE,EAGa,kBAHb,EAGiC,gBAAOC,KAAP,EAAiB;AACxD,QAAIA,KAAJ,EAAW;AACT,UAAMC,OAAO,MAAMC,gBAAMC,OAAN,CAAc;AAC/BC,eAAO,EAAEC,IAAIL,KAAN,EADwB;AAE/BM,oBAAY,CAAC,IAAD;AAFmB,OAAd,CAAnB;AAIA,aAAOL,SAAS,IAAhB;AACD;AACD,WAAO,IAAP;AACD,GAZO;AAVsB,CAAnB,CAAf;;kBAyBehB,M","file":"create.js","sourcesContent":["import * as Yup from 'yup';\r\nimport Class from '../../models/Class';\r\n\r\nconst schema = Yup.object().shape({\r\n  name: Yup.string('Dado inválido')\r\n    .required('Campo obrigatório')\r\n    .min(5, 'Campo deve ter entre 5 e 50 caracteres')\r\n    .max(50, 'Campo deve ter entre 5 e 50 caracteres'),\r\n  description: Yup.string('Dado inválido')\r\n    .required('Campo obrigatório')\r\n    .min(5, 'Campo deve ter entre 5 e 500 caracteres')\r\n    .max(500, 'Campo deve ter entre 5 e 500 caracteres'),\r\n  deadline: Yup.date('Dado inválido'),\r\n  id_class: Yup.number('Dado inválido')\r\n    .positive('Dado inválido')\r\n    .required('Campo obrigatório')\r\n    .test('classExists', 'Turma não existe', async (value) => {\r\n      if (value) {\r\n        const clas = await Class.findOne({\r\n          where: { id: value },\r\n          attributes: ['id'],\r\n        });\r\n        return clas !== null;\r\n      }\r\n      return true;\r\n    }),\r\n});\r\n\r\nexport default schema;\r\n"]}