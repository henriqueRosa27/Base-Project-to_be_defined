{"version":3,"sources":["../../../../src/app/schemasValidation/ActivityDelivery/create.js"],"names":["Yup","schema","object","shape","note","string","required","min","max","report","id_activity","number","positive","test","value","activity","Activity","findOne","where","id","attributes"],"mappings":";;;;;;AAAA;;IAAYA,G;;AACZ;;;;;;;;AAEA,IAAMC,SAASD,IAAIE,MAAJ,GAAaC,KAAb,CAAmB;AAChCC,QAAMJ,IAAIK,MAAJ,CAAW,eAAX,EACHC,QADG,CACM,mBADN,EAEHC,GAFG,CAEC,CAFD,EAEI,yCAFJ,EAGHC,GAHG,CAGC,GAHD,EAGM,yCAHN,CAD0B;AAKhCC,UAAQT,IAAIK,MAAJ,CAAW,eAAX,EACLC,QADK,CACI,mBADJ,EAELC,GAFK,CAED,CAFC,EAEE,4BAFF,CALwB;AAQhCG,eAAaV,IAAIW,MAAJ,CAAW,eAAX,EACVC,QADU,CACD,eADC,EAEVN,QAFU,CAED,mBAFC,EAGVO,IAHU,CAGL,aAHK,EAGU,sBAHV,EAGkC,gBAAOC,KAAP,EAAiB;AAC5D,QAAIA,KAAJ,EAAW;AACT,UAAMC,WAAW,MAAMC,mBAASC,OAAT,CAAiB;AACtCC,eAAO,EAAEC,IAAIL,KAAN,EAD+B;AAEtCM,oBAAY,CAAC,IAAD;AAF0B,OAAjB,CAAvB;AAIA,aAAOL,aAAa,IAApB;AACD;AACD,WAAO,IAAP;AACD,GAZU;AARmB,CAAnB,CAAf;;kBAuBed,M","file":"create.js","sourcesContent":["import * as Yup from 'yup';\r\nimport Activity from '../../models/Activity';\r\n\r\nconst schema = Yup.object().shape({\r\n  note: Yup.string('Dado inválido')\r\n    .required('Campo obrigatório')\r\n    .min(5, 'Campo deve ter entre 5 e 200 caracteres')\r\n    .max(200, 'Campo deve ter entre 5 e 200 caracteres'),\r\n  report: Yup.string('Dado inválido')\r\n    .required('Campo obrigatório')\r\n    .min(5, 'Campo deve ter no minimo 5'),\r\n  id_activity: Yup.number('Dado inválido')\r\n    .positive('Dado inválido')\r\n    .required('Campo obrigatório')\r\n    .test('classExists', 'Atividade não existe', async (value) => {\r\n      if (value) {\r\n        const activity = await Activity.findOne({\r\n          where: { id: value },\r\n          attributes: ['id'],\r\n        });\r\n        return activity !== null;\r\n      }\r\n      return true;\r\n    }),\r\n});\r\n\r\nexport default schema;\r\n"]}