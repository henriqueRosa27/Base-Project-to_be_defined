{"version":3,"sources":["../../../../src/app/schemasValidation/ActivityDelivery/sendFeedaback.js"],"names":["Yup","schema","object","shape","feedback","string","required","min","max","id_delivery_activity","number","positive","test","value","activityDelivery","ActivityDelivery","findOne","where","id","attributes"],"mappings":";;;;;;AAAA;;IAAYA,G;;AACZ;;;;;;;;AAEA,IAAMC,SAASD,IAAIE,MAAJ,GAAaC,KAAb,CAAmB;AAChCC,YAAUJ,IAAIK,MAAJ,CAAW,eAAX,EACPC,QADO,CACE,mBADF,EAEPC,GAFO,CAEH,CAFG,EAEA,yCAFA,EAGPC,GAHO,CAGH,GAHG,EAGE,yCAHF,CADsB;AAKhCC,wBAAsBT,IAAIU,MAAJ,CAAW,eAAX,EACnBC,QADmB,CACV,eADU,EAEnBL,QAFmB,CAEV,mBAFU,EAGnBM,IAHmB,CAGd,aAHc,EAGC,kCAHD,EAGqC,gBAAOC,KAAP,EAAiB;AACxE,QAAIA,KAAJ,EAAW;AACT,UAAMC,mBAAmB,MAAMC,2BAAiBC,OAAjB,CAAyB;AACtDC,eAAO,EAAEC,IAAIL,KAAN,EAD+C;AAEtDM,oBAAY,CAAC,IAAD;AAF0C,OAAzB,CAA/B;AAIA,aAAOL,qBAAqB,IAA5B;AACD;AACD,WAAO,IAAP;AACD,GAZmB;AALU,CAAnB,CAAf;;kBAoBeb,M","file":"sendFeedaback.js","sourcesContent":["import * as Yup from 'yup';\r\nimport ActivityDelivery from '../../models/ActivityDelivery';\r\n\r\nconst schema = Yup.object().shape({\r\n  feedback: Yup.string('Dado inválido')\r\n    .required('Campo obrigatório')\r\n    .min(5, 'Campo deve ter entre 5 e 200 caracteres')\r\n    .max(200, 'Campo deve ter entre 5 e 200 caracteres'),\r\n  id_delivery_activity: Yup.number('Dado inválido')\r\n    .positive('Dado inválido')\r\n    .required('Campo obrigatório')\r\n    .test('classExists', 'Resposta de Atividade não existe', async (value) => {\r\n      if (value) {\r\n        const activityDelivery = await ActivityDelivery.findOne({\r\n          where: { id: value },\r\n          attributes: ['id'],\r\n        });\r\n        return activityDelivery !== null;\r\n      }\r\n      return true;\r\n    }),\r\n});\r\n\r\nexport default schema;\r\n"]}