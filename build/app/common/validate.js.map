{"version":3,"sources":["../../../src/app/common/validate.js"],"names":["formatValidationErrors","errors","formattedErrors","success","object","inner","map","value","error","type","attribute","path","validate","schema","resultValidation","abortEarly","then","obj","catch","err"],"mappings":";;;;;AAAA,IAAMA,yBAAyB,SAAzBA,sBAAyB,CAACC,MAAD,EAAY;AACzC,MAAMC,kBAAkB;AACtBC,aAAS,KADa;AAEtBC,YAAQ;AACNH,cAAQ;AADF;AAFc,GAAxB;;AAOAC,kBAAgBE,MAAhB,CAAuBH,MAAvB,GAAgCA,OAAOI,KAAP,CAAaC,GAAb,CAAiB,UAACC,KAAD,EAAW;AAC1D,QAAMC,QAAQ;AACZC,YAAMF,MAAME,IADA;AAEZC,iBAAWH,MAAMI,IAFL;AAGZV,cAAQM,MAAMN;AAHF,KAAd;AAKA,WAAOO,KAAP;AACD,GAP+B,CAAhC;;AASA,SAAON,eAAP;AACD,CAlBD;;AAoBA,IAAMU,WAAW,eAAXA,QAAW,CAAOC,MAAP,EAAeT,MAAf,EAA0B;AACzC,MAAMU,mBAAmB,MAAMD,OAC5BD,QAD4B,CACnBR,MADmB,EACX,EAAEW,YAAY,KAAd,EADW,EAE5BC,IAF4B,CAEvB,UAACC,GAAD,EAAS;AACb,WAAO;AACLd,eAAS,IADJ;AAELC,cAAQa;AAFH,KAAP;AAID,GAP4B,EAQ5BC,KAR4B,CAQtB,UAACC,GAAD,EAAS;AACd,WAAOnB,uBAAuBmB,GAAvB,CAAP;AACD,GAV4B,CAA/B;AAWA,SAAOL,gBAAP;AACD,CAbD;;kBAeeF,Q","file":"validate.js","sourcesContent":["const formatValidationErrors = (errors) => {\r\n  const formattedErrors = {\r\n    success: false,\r\n    object: {\r\n      errors: [],\r\n    },\r\n  };\r\n\r\n  formattedErrors.object.errors = errors.inner.map((value) => {\r\n    const error = {\r\n      type: value.type,\r\n      attribute: value.path,\r\n      errors: value.errors,\r\n    };\r\n    return error;\r\n  });\r\n\r\n  return formattedErrors;\r\n};\r\n\r\nconst validate = async (schema, object) => {\r\n  const resultValidation = await schema\r\n    .validate(object, { abortEarly: false })\r\n    .then((obj) => {\r\n      return {\r\n        success: true,\r\n        object: obj,\r\n      };\r\n    })\r\n    .catch((err) => {\r\n      return formatValidationErrors(err);\r\n    });\r\n  return resultValidation;\r\n};\r\n\r\nexport default validate;\r\n"]}