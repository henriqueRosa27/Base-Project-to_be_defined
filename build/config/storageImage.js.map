{"version":3,"sources":["../../src/config/storageImage.js"],"names":["module","exports","storage","multer","diskStorage","destination","__dirname","filename","req","file","cb","crypto","randomBytes","err","res","toString","originalname"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AAEAA,OAAOC,OAAP,GAAiB;AACfC,WAASC,iBAAOC,WAAP,CAAmB;AAC1BC,iBAAa,mBAAQC,SAAR,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC,SAAtC,CADa;AAE1B;AACAC,cAAU,kBAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAmB;AAC3BC,uBAAOC,WAAP,CAAmB,EAAnB,EAAuB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACnC,YAAID,GAAJ,EAAS,OAAOH,GAAGG,GAAH,CAAP;AACT,eAAOH,GAAG,IAAH,EAASI,IAAIC,QAAJ,CAAa,KAAb,IAAsB,mBAAQN,KAAKO,YAAb,CAA/B,CAAP;AACD,OAHD;AAID;AARyB,GAAnB;AADM,CAAjB","file":"storageImage.js","sourcesContent":["import multer from 'multer';\r\nimport crypto from 'crypto';\r\nimport { extname, resolve } from 'path';\r\n\r\nmodule.exports = {\r\n  storage: multer.diskStorage({\r\n    destination: resolve(__dirname, '..', '..', 'tmp', 'uploads'),\r\n    // eslint-disable-next-line consistent-return\r\n    filename: (req, file, cb) => {\r\n      crypto.randomBytes(16, (err, res) => {\r\n        if (err) return cb(err);\r\n        return cb(null, res.toString('hex') + extname(file.originalname));\r\n      });\r\n    },\r\n  }),\r\n};\r\n"]}